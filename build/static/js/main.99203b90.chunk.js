(this["webpackJsonppavlov-web-scoreboard"]=this["webpackJsonppavlov-web-scoreboard"]||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(14),s=a.n(c),i=(a(83),a(21)),o=(a(84),a(136)),l=a(53),d=a(46),j=a.n(d),b=a(34),u=(a(96),a(4));var h=function(e){var t=Object(r.useState)([]),a=Object(i.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(),o=Object(i.a)(s,2),l=o[0],d=o[1],h=Object(r.useState)(b.c.DESC),O=Object(i.a)(h,2),f=O[0],x=O[1];Object(r.useEffect)((function(){e.defaultOrder&&x(e.defaultOrder),e.defaultOrderBy&&d(e.defaultOrderBy)}),[e.defaultOrderBy,e.defaultOrder]),Object(r.useEffect)((function(){c(j.a.orderBy(e.data,[l],f.toLocaleLowerCase()))}),[e.data,l,f]);var p=function(e){e.defaultSortDirection,e.event;var t=e.sortBy,a=(e.sortDirection,l===t&&f===b.c.ASC?b.c.DESC:b.c.ASC);x(a),d(t)};return Object(u.jsx)(b.a,{children:function(t){var a=t.width,r=t.height;return Object(u.jsx)(b.d,{height:r,width:a,rowHeight:40,headerHeight:40,sortBy:l,sort:p,rowCount:n.length,rowGetter:function(e){var t=e.index;return n[t]},children:e.columns.map((function(e){var t=e.dataKey,a=e.label,r=e.width;return Object(u.jsx)(b.b,{width:r||200,dataKey:t,label:a},t)}))})}})};var O=function(e){var t=Object(r.useState)(void 0),a=Object(i.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(""),o=Object(i.a)(s,2),l=o[0],d=o[1];return Object(r.useEffect)((function(){var t=j.a.filter(e.data,(function(t){for(var a=!1,r=Object.keys(t),n=0;n<r.length&&!a;n++)e.ignoreSearchColumns&&e.ignoreSearchColumns.indexOf(r[n])>-1||t[r[n]]&&t[r[n]].toString().toLowerCase().indexOf(l.toLowerCase())>-1&&(a=!0);return a}));c(t)}),[l,e.data,e.ignoreSearchColumns]),Object(u.jsxs)("div",{style:{height:"600px"},children:[Object(u.jsx)("input",{placeholder:"Search",value:l,onChange:function(e){d(e.target.value)},type:"text"}),Object(u.jsx)("hr",{}),n&&n.length>0&&Object(u.jsx)(h,{data:n,columns:e.columns,defaultOrderBy:e.defaultOrderBy})]})};var f=function(){var e=Object(r.useState)(void 0),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(i.a)(c,2),d=s[0],j=s[1];Object(r.useEffect)((function(){a||(j(!0),fetch("/api/leaderboard/get").then((function(e){return e.json()})).then((function(e){n(e)})).finally((function(){j(!1)})))}),[a]);var b=window.matchMedia("(min-width: 1281px)").matches,h=[{dataKey:"name",label:"Player",width:b?400:300},{dataKey:"kills",label:b?"Kills":"K",width:b?300:75},{dataKey:"deaths",label:b?"Deaths":"D",width:b?300:75},{dataKey:"points",label:b?"Points":"P",width:b?300:75}];return Object(u.jsxs)("div",{style:{height:"600px"},children:[Object(u.jsx)(l.a,{variant:"h4",className:"header",gutterBottom:!0,children:"Preseason Leaderboard"}),d&&Object(u.jsx)(o.a,{color:"secondary"}),!d&&Object(u.jsx)(O,{data:a,columns:h,defaultOrderBy:"kills",ignoreSearchColumns:["steamId"]})]})};var x=function(){var e=Object(r.useState)(void 0),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(void 0),s=Object(i.a)(c,2),d=s[0],j=s[1],b=Object(r.useState)(!1),O=Object(i.a)(b,2),f=O[0],x=O[1];Object(r.useEffect)((function(){a||(x(!0),fetch("/api/server").then((function(e){return e.json()})).then((function(e){n(e.ServerInfo),e.Scores&&j(e.Scores.map((function(e){var t=e.PlayerInfo,a=t.KDA.split("/");return{kills:a[0],deaths:a[1],points:t.Score,steamId:t.UniqueId,name:t.PlayerName,team:t.TeamId}})))})).finally((function(){x(!1)})))}),[a]);var p=window.matchMedia("(min-width: 1281px)").matches,v=[{dataKey:"name",label:"Player",width:p?400:200},{dataKey:"kills",label:p?"Kills":"K",width:p?300:100},{dataKey:"deaths",label:"Deaths",width:p?300:100},{dataKey:"points",label:"Points",width:p?300:100}];return Object(u.jsxs)("div",{style:{height:"600px"},children:[a&&Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)(l.a,{variant:"h5",gutterBottom:!0,children:a.ServerName}),Object(u.jsxs)("p",{children:["Map: ",a.MapLabel]}),Object(u.jsxs)("p",{children:["Mode: ",a.GameMode]}),Object(u.jsxs)("p",{children:["Players: ",a.PlayerCount]})]}),f&&Object(u.jsx)(o.a,{color:"secondary"}),!f&&d&&d.length>0&&Object(u.jsx)(h,{data:d,columns:v,defaultOrderBy:"kills"})]})},p=a(138),v=a(139),m=a(140),y=a(144),g=a(137),w=a(16);var S=Object(w.f)((function(e){var t=function(t){e.toggleDrawer(),e.history.push(t)};return Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsxs)(y.a,{className:"drawer mobile",variant:"temporary",anchor:"left",open:e.open,classes:{paper:"drawer"},children:[Object(u.jsx)(g.a,{}),Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{button:!0,onClick:function(){return t("/")},children:Object(u.jsx)(m.a,{primary:"Home"})}),Object(u.jsx)(v.a,{button:!0,onClick:function(){return t("/server")},children:Object(u.jsx)(m.a,{primary:"Server Status"})}),Object(u.jsx)(v.a,{button:!0,onClick:function(){return t("/leaderboard")},children:Object(u.jsx)(m.a,{primary:"Leaderboard"})})]})]}),Object(u.jsxs)(y.a,{className:"drawer desktop",variant:"persistent",anchor:"left",open:!0,classes:{paper:"drawer"},children:[Object(u.jsx)(g.a,{}),Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{button:!0,onClick:function(){return t("/")},children:Object(u.jsx)(m.a,{primary:"Home"})}),Object(u.jsx)(v.a,{button:!0,onClick:function(){return t("/server")},children:Object(u.jsx)(m.a,{primary:"Server Status"})}),Object(u.jsx)(v.a,{button:!0,onClick:function(){return t("/leaderboard")},children:Object(u.jsx)(m.a,{primary:"Leaderboard"})})]})]})]})})),C=a(141),B=a(143),k=a(142),K=a(71),P=a.n(K),D=a(5),L=a(56);var N=function(e){var t=n.a.useState(!1),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(u.jsx)(L.a,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(C.a,{position:"fixed",className:Object(D.a)("appBar",r&&"appBarshift"),children:Object(u.jsxs)(g.a,{children:[Object(u.jsx)(k.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return c(!r)},edge:"start",className:Object(D.a)("menuButton mobile"),children:Object(u.jsx)(P.a,{})}),Object(u.jsx)(l.a,{variant:"h6",noWrap:!0,children:"VR Together"})]})}),Object(u.jsx)(S,{toggleDrawer:function(){return c(!r)},open:r}),Object(u.jsx)(g.a,{}),Object(u.jsxs)(w.c,{children:[Object(u.jsx)(w.a,{path:"/leaderboard",children:Object(u.jsx)(B.a,{children:Object(u.jsx)(f,{})})}),Object(u.jsx)(w.a,{path:"/server",children:Object(u.jsx)(B.a,{children:Object(u.jsx)(x,{})})}),Object(u.jsx)(w.a,{path:"/",children:Object(u.jsx)(B.a,{children:Object(u.jsx)(l.a,{className:"header",variant:"h4",children:"VR-Together Pavlov"})})})]})]})})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,146)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};s.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(N,{})}),document.getElementById("root")),E()},83:function(e,t,a){},84:function(e,t,a){}},[[106,1,2]]]);
//# sourceMappingURL=main.99203b90.chunk.js.map