(this["webpackJsonppavlov-web-scoreboard"]=this["webpackJsonppavlov-web-scoreboard"]||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(14),i=a.n(c),s=(a(87),a(22)),l=(a(88),a(111)),o=a(140),j=a(55),d=a(139),b=a(37),h=a(63),u=a(40),O=a(70),x=a(71),f=a(76),p=a(75),m=a(5),v=a(10),g=a(148),w=a(54),y=a(4),C=function(e){Object(f.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(O.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).getRowClassName=function(t){var a=t.index,r=e.props,n=r.classes,c=r.onRowClick;return Object(m.a)(n.tableRow,n.flexContainer,Object(u.a)({},n.tableRowHover,-1!==a&&null!=c))},e.cellRenderer=function(t){var a=t.cellData,r=t.columnIndex,n=e.props,c=n.columns,i=n.classes,s=n.rowHeight,l=n.onRowClick;return Object(y.jsx)(g.a,{component:"div",className:Object(m.a)(i.tableCell,i.flexContainer,Object(u.a)({},i.noClick,null==l)),variant:"body",style:{height:s},align:null!=r&&c[r].numeric?"right":"left",children:a})},e.headerRenderer=function(t){var a=t.label,r=t.columnIndex,n=e.props,c=n.headerClick,i=n.headerHeight,s=n.columns,l=n.classes;return Object(y.jsx)(g.a,{onClick:function(){return c(s[r].dataKey)},component:"div",className:Object(m.a)(l.tableCell,l.flexContainer,l.noClick),variant:"head",style:{height:i},align:s[r].numeric?"right":"left",children:Object(y.jsx)("span",{children:a})})},e}return Object(x.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.columns,n=t.rowHeight,c=(t.headerClick,t.headerHeight),i=Object(h.a)(t,["classes","columns","rowHeight","headerClick","headerHeight"]);return Object(y.jsx)(w.a,{children:function(t){var s=t.height,l=t.width;return Object(y.jsx)(w.c,Object(b.a)(Object(b.a)({height:s,width:l,rowHeight:n,gridStyle:{direction:"inherit"},headerHeight:c,className:a.table},i),{},{rowClassName:e.getRowClassName,children:r.map((function(t,r){var n=t.dataKey,c=Object(h.a)(t,["dataKey"]);return Object(y.jsx)(w.b,Object(b.a)({headerRenderer:function(t){return e.headerRenderer(Object(b.a)(Object(b.a)({},t),{},{columnIndex:r}))},className:a.flexContainer,cellRenderer:e.cellRenderer,dataKey:n},c),n)}))}))}})}}]),a}(n.a.PureComponent);C.defaultProps={headerHeight:48,rowHeight:48};var k=Object(v.a)((function(e){return{flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},tableRow:{cursor:"pointer"},tableRowHover:{"&:hover":{backgroundColor:e.palette.grey[200]}},tableCell:{flex:1},noClick:{cursor:"initial"}}}))(C),S=a(51),N=a.n(S);var R=function(){var e=Object(r.useState)(void 0),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(void 0),i=Object(s.a)(c,2),b=i[0],h=i[1],u=Object(r.useState)("kills"),O=Object(s.a)(u,2),x=O[0],f=O[1],p=Object(r.useState)("desc"),m=Object(s.a)(p,2),v=m[0],g=m[1],w=Object(r.useState)(!1),C=Object(s.a)(w,2),S=C[0],R=C[1];Object(r.useEffect)((function(){a||(R(!0),fetch("/api/leaderboard/get").then((function(e){return e.json()})).then((function(e){n(e),R(!1)})))}),[a]),Object(r.useEffect)((function(){h(N.a.orderBy(a,[x],v))}),[x,v,a]);var K=window.matchMedia("(min-width: 1281px)").matches,H=[{dataKey:"name",label:"Player",width:K?400:200},{dataKey:"kills",label:"Kills",width:K?300:100},{dataKey:"deaths",label:"Deaths",width:K?300:100},{dataKey:"points",label:"Points",width:K?300:100}];return Object(y.jsxs)(d.a,{children:[Object(y.jsx)(j.a,{variant:"h4",className:"header",gutterBottom:!0,children:"Preseason Leaderboard"}),Object(y.jsxs)(l.a,{style:{height:400,width:"100%"},children:[b&&b.length>0&&Object(y.jsx)(k,{rowCount:b.length,rowGetter:function(e){var t=e.index;return b[t]},columns:H,headerClick:function(e){g(x===e&&"asc"===v?"desc":"asc"),f(e)}}),S&&Object(y.jsx)(o.a,{})]})]})};var K=function(){var e=Object(r.useState)(void 0),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(void 0),i=Object(s.a)(c,2),b=i[0],h=i[1],u=Object(r.useState)(!1),O=Object(s.a)(u,2),x=O[0],f=O[1],p=Object(r.useState)(void 0),m=Object(s.a)(p,2),v=m[0],g=m[1],w=Object(r.useState)("kills"),C=Object(s.a)(w,2),S=C[0],R=C[1],K=Object(r.useState)("desc"),H=Object(s.a)(K,2),P=H[0],I=H[1];Object(r.useEffect)((function(){a||(f(!0),fetch("/api/server").then((function(e){return e.json()})).then((function(e){n(e.ServerInfo),e.Scores&&h(e.Scores.map((function(e){var t=e.PlayerInfo,a=t.KDA.split("/");return{kills:a[0],deaths:a[1],points:t.Score,steamId:t.UniqueId,name:t.PlayerName,team:t.TeamId}})))})).finally((function(){f(!1)})))}),[a]),Object(r.useEffect)((function(){g(N.a.orderBy(b,[S],P))}),[S,P,b]);var B=window.matchMedia("(min-width: 1281px)").matches,D=[{dataKey:"name",label:"Player",width:B?400:200},{dataKey:"kills",label:"Kills",width:B?300:100},{dataKey:"deaths",label:"Deaths",width:B?300:100},{dataKey:"points",label:"Points",width:B?300:100}];return Object(y.jsxs)(d.a,{children:[a&&Object(y.jsxs)("div",{className:"header",children:[Object(y.jsx)(j.a,{variant:"h5",gutterBottom:!0,children:a.ServerName}),Object(y.jsxs)("p",{children:["Map: ",a.MapLabel]}),Object(y.jsxs)("p",{children:["Mode: ",a.GameMode]}),Object(y.jsxs)("p",{children:["Players: ",a.PlayerCount]})]}),!b&&!x&&Object(y.jsx)(j.a,{variant:"h5",children:"No current players"}),v&&v.length>0&&Object(y.jsx)(l.a,{style:{height:400,width:"100%"},children:Object(y.jsx)(k,{rowCount:v.length,rowGetter:function(e){var t=e.index;return v[t]},columns:D,headerClick:function(e){I(S===e&&"asc"===P?"desc":"asc"),R(e)}})}),x&&Object(y.jsx)("div",{style:{marginTop:"24px"},children:Object(y.jsx)(o.a,{})})]})},H=a(142),P=a(143),I=a(144),B=a(147),D=a(141),M=a(16);var L=Object(M.f)((function(e){var t=function(t){e.toggleDrawer(),e.history.push(t)};return Object(y.jsxs)(n.a.Fragment,{children:[Object(y.jsxs)(B.a,{className:"drawer mobile",variant:"temporary",anchor:"left",open:e.open,classes:{paper:"drawer"},children:[Object(y.jsx)(D.a,{}),Object(y.jsxs)(H.a,{children:[Object(y.jsx)(P.a,{button:!0,onClick:function(){return t("/")},children:Object(y.jsx)(I.a,{primary:"Home"})}),Object(y.jsx)(P.a,{button:!0,onClick:function(){return t("/server")},children:Object(y.jsx)(I.a,{primary:"Server Status"})}),Object(y.jsx)(P.a,{button:!0,onClick:function(){return t("/leaderboard")},children:Object(y.jsx)(I.a,{primary:"Leaderboard"})})]})]}),Object(y.jsxs)(B.a,{className:"drawer desktop",variant:"persistent",anchor:"left",open:!0,classes:{paper:"drawer"},children:[Object(y.jsx)(D.a,{}),Object(y.jsxs)(H.a,{children:[Object(y.jsx)(P.a,{button:!0,onClick:function(){return t("/")},children:Object(y.jsx)(I.a,{primary:"Home"})}),Object(y.jsx)(P.a,{button:!0,onClick:function(){return t("/server")},children:Object(y.jsx)(I.a,{primary:"Server Status"})}),Object(y.jsx)(P.a,{button:!0,onClick:function(){return t("/leaderboard")},children:Object(y.jsx)(I.a,{primary:"Leaderboard"})})]})]})]})})),T=a(145),E=a(146),F=a(74),A=a.n(F),G=a(60);var J=function(e){var t=n.a.useState(!1),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(y.jsx)(G.a,{children:Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(T.a,{position:"fixed",className:Object(m.a)("appBar",r&&"appBarshift"),children:Object(y.jsxs)(D.a,{children:[Object(y.jsx)(E.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return c(!r)},edge:"start",className:Object(m.a)("menuButton mobile"),children:Object(y.jsx)(A.a,{})}),Object(y.jsx)(j.a,{variant:"h6",noWrap:!0,children:"VR Together"})]})}),Object(y.jsx)(L,{toggleDrawer:function(){return c(!r)},open:r}),Object(y.jsx)(D.a,{}),Object(y.jsxs)(M.c,{children:[Object(y.jsx)(M.a,{path:"/leaderboard",children:Object(y.jsx)(R,{})}),Object(y.jsx)(M.a,{path:"/server",children:Object(y.jsx)(K,{})}),Object(y.jsx)(M.a,{path:"/",children:Object(y.jsx)(d.a,{children:Object(y.jsx)(j.a,{className:"header",variant:"h4",children:"VR-Together Pavlov"})})})]})]})})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,150)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),r(e),n(e),c(e),i(e)}))};i.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(J,{})}),document.getElementById("root")),V()},87:function(e,t,a){},88:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.4cf395d6.chunk.js.map