(this["webpackJsonppavlov-web-scoreboard"]=this["webpackJsonppavlov-web-scoreboard"]||[]).push([[0],{110:function(e,t,a){},111:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),i=a.n(c),s=(a(110),a(24)),o=(a(111),a(171)),d=a(62),l=a(54),j=a.n(l),b=a(6);var h=function(){var e=Object(n.useState)(void 0),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(s.a)(c,2),l=i[0],h=i[1];Object(n.useEffect)((function(){a||(h(!0),fetch("/api/leaderboard/get").then((function(e){return e.json()})).then((function(e){r(e)})).finally((function(){h(!1)})))}),[a]);var u=window.matchMedia("(min-width: 1281px)").matches,O=[{dataKey:"name",label:"Player",width:u?400:300},{dataKey:"kills",label:u?"Kills":"K",width:u?300:75},{dataKey:"deaths",label:u?"Deaths":"D",width:u?300:75},{dataKey:"points",label:u?"Points":"P",width:u?300:75}];return Object(b.jsxs)("div",{style:{height:"600px"},children:[Object(b.jsx)(d.a,{variant:"h4",className:"header",gutterBottom:!0,children:"Pre-season Leaderboard (Beta)"}),l&&Object(b.jsx)(o.a,{color:"secondary"}),!l&&Object(b.jsx)("div",{style:{minHeight:"40vh",height:"60vh"},children:Object(b.jsx)(j.a,{data:a,columns:O,defaultOrder:"desc",defaultOrderBy:"kills",ignoreSearchColumns:["steamId"],inputClassName:"search-input"})})]})};var u=function(){var e=Object(n.useState)(void 0),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(void 0),i=Object(s.a)(c,2),l=i[0],h=i[1],u=Object(n.useState)(!1),O=Object(s.a)(u,2),p=O[0],m=O[1];Object(n.useEffect)((function(){a||(m(!0),fetch("/api/server").then((function(e){return e.json()})).then((function(e){r(e),e.Scores&&h(e.Scores.map((function(e){var t=e.PlayerInfo,a=t.KDA.split("/");return{kills:a[0],deaths:a[1],points:t.Score,steamId:t.UniqueId,name:t.PlayerName,team:t.TeamId}})))})).finally((function(){m(!1)})))}),[a]);var x=window.matchMedia("(min-width: 1281px)").matches,f=[{dataKey:"name",label:"Player",width:x?400:200},{dataKey:"kills",label:x?"Kills":"K",width:x?300:100},{dataKey:"deaths",label:"Deaths",width:x?300:100},{dataKey:"points",label:"Points",width:x?300:100}];return Object(b.jsxs)("div",{children:[a&&Object(b.jsxs)("div",{className:"header",children:[Object(b.jsx)(d.a,{variant:"h6",gutterBottom:!0,children:a.ServerName}),Object(b.jsxs)("p",{children:["Map: ",a.MapLabel]}),Object(b.jsxs)("p",{children:["Mode: ",a.GameMode]}),Object(b.jsxs)("p",{children:["Players: ",a.PlayerCount]})]}),p&&Object(b.jsx)(o.a,{color:"secondary"}),!p&&l&&l.length>0&&Object(b.jsx)("div",{style:{height:(40+40*l.length).toString()+"px",maxHeight:"520px"},children:Object(b.jsx)(j.a,{showSearch:!1,data:l,columns:f,defaultOrderBy:"kills"})})]})},O=a(172),p=a(173),m=a(174),x=a(183),f=a(175),g=a(20);var v=Object(g.f)((function(e){var t=function(t){e.toggleDrawer(),e.history.push(t)},a=function(){return Object(b.jsxs)(O.a,{children:[Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/")},children:Object(b.jsx)(m.a,{primary:"Home"})}),Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/server")},children:Object(b.jsx)(m.a,{primary:"Server Status"})}),Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/leaderboard")},children:Object(b.jsx)(m.a,{primary:"Leaderboard"})}),Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/maps")},children:Object(b.jsx)(m.a,{primary:"MapRotation Editor"})})]})};return Object(b.jsxs)(r.a.Fragment,{children:[Object(b.jsxs)(x.a,{className:"drawer mobile",variant:"temporary",anchor:"left",open:e.open,classes:{paper:"drawer"},children:[Object(b.jsx)(f.a,{}),a()]}),Object(b.jsxs)(x.a,{className:"drawer desktop",variant:"persistent",anchor:"left",open:!0,classes:{paper:"drawer"},children:[Object(b.jsx)(f.a,{}),Object(b.jsx)(O.a,{children:a()})]})]})})),y=a(179),w=a(180),S=a(176),k=a(96),C=a.n(k),P=a(4),I=a(68),D=a(181),N=a(178),K=a(177),B=a(92),E=a(93),M=a(59),R=a(98),F=a(97),T=a(43),A=a(61),L=a(95),H=a.n(L),J=function(e){Object(R.a)(a,e);var t=Object(F.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).deleteItem=function(e){var t=n.state.items.filter((function(t){return t.id!==e.id}));n.setState({items:t}),n.props.updateSortedItems(t)},n.state={items:e.items},n.props.updateSortedItems(e.items),n.onDragEnd=n.onDragEnd.bind(Object(M.a)(n)),n}return Object(E.a)(a,[{key:"onDragEnd",value:function(e){if(e.destination){var t=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),c=Object(s.a)(r,1)[0];return n.splice(a,0,c),n}(this.state.items,e.source.index,e.destination.index);this.setState({items:t}),this.props.updateSortedItems(t)}}},{key:"render",value:function(){var e=this;return Object(b.jsx)(A.a,{onDragEnd:this.onDragEnd,children:Object(b.jsx)(A.c,{droppableId:"droppable",children:function(t,a){return Object(b.jsxs)("div",Object(T.a)(Object(T.a)({},t.droppableProps),{},{ref:t.innerRef,style:(a.isDraggingOver,{backgroundColor:"#202225",padding:8,margin:"0 auto"}),children:[e.state.items.map((function(t,a){return Object(b.jsx)(A.b,{draggableId:t.id,index:a,children:function(a,n){return Object(b.jsxs)("div",Object(T.a)(Object(T.a)(Object(T.a)({ref:a.innerRef},a.draggableProps),a.dragHandleProps),{},{style:(n.isDragging,r=a.draggableProps.style,Object(T.a)({userSelect:"none",position:"relative",padding:16,margin:"0 0 ".concat(8,"px 0"),backgroundColor:"#2f3136"},r)),children:[Object(b.jsxs)("span",{children:[t.name," - ",t.id," - ",t.gameMode]}),Object(b.jsx)(S.a,{onClick:function(){return e.deleteItem(t)},className:"delete-icon",children:Object(b.jsx)(H.a,{})})]}));var r}},t.id)})),t.placeholder]}))}})})}}]),a}(n.Component);var U=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),l=Object(s.a)(i,2),j=l[0],h=l[1],u=Object(n.useState)([]),O=Object(s.a)(u,2),p=O[0],m=O[1],x=Object(n.useState)(!1),f=Object(s.a)(x,2),g=f[0],v=f[1];return Object(b.jsxs)(r.a.Fragment,{children:[Object(b.jsx)(d.a,{variant:"h4",className:"header",gutterBottom:!0,children:"MapRotation Editor"}),Object(b.jsxs)(K.a,{container:!0,spacing:3,children:[j&&j.length>0&&!g&&Object(b.jsxs)(r.a.Fragment,{children:[Object(b.jsxs)(K.a,{item:!0,xs:12,children:[Object(b.jsx)(N.a,{variant:"contained",color:"primary",onClick:function(){return h([])},children:"Return"}),Object(b.jsx)(N.a,{variant:"contained",color:"primary",onClick:function(){fetch("/api/map/rotationFromData",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}).then((function(e){return e.json()})).then((function(e){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e.join("\n"))),t.setAttribute("download","Test.txt"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)})).finally((function(){v(!1)}))},children:"Save"})]}),Object(b.jsx)(K.a,{item:!0,xs:12,children:Object(b.jsx)(J,{items:j,updateSortedItems:function(e){return m(e)}})})]}),g&&Object(b.jsx)(K.a,{item:!0,xs:12,children:Object(b.jsx)(o.a,{color:"secondary"})}),!g&&0===j.length&&Object(b.jsxs)(r.a.Fragment,{children:[Object(b.jsx)(K.a,{item:!0,xs:12,children:Object(b.jsx)(D.a,{label:"MapRotations",onChange:function(e){return c(e.target.value)},multiline:!0,rows:12,className:"rotation-input",variant:"outlined"})}),Object(b.jsx)(K.a,{item:!0,xs:12,children:Object(b.jsx)(N.a,{variant:"contained",color:"primary",onClick:function(){return v(!0),void fetch("/api/map/fromRotation?rotation=".concat(a)).then((function(e){return e.json()})).then((function(e){h(e)})).finally((function(){v(!1)}))},children:"Submit"})})]})]})]})};var V=function(e){var t=r.a.useState(!1),a=Object(s.a)(t,2),n=a[0],c=a[1];return Object(b.jsx)(I.a,{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(y.a,{position:"fixed",className:Object(P.a)("appBar",n&&"appBarshift"),children:Object(b.jsxs)(f.a,{children:[Object(b.jsx)(S.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return c(!n)},edge:"start",className:Object(P.a)("menuButton mobile"),children:Object(b.jsx)(C.a,{})}),Object(b.jsx)(d.a,{variant:"h6",noWrap:!0,children:"VR Together"})]})}),Object(b.jsx)(v,{toggleDrawer:function(){return c(!n)},open:n}),Object(b.jsx)(f.a,{}),Object(b.jsxs)(g.c,{children:[Object(b.jsx)(g.a,{path:"/leaderboard",children:Object(b.jsx)(w.a,{children:Object(b.jsx)(h,{})})}),Object(b.jsx)(g.a,{path:"/server",children:Object(b.jsx)(w.a,{children:Object(b.jsx)(u,{})})}),Object(b.jsx)(g.a,{path:"/maps",children:Object(b.jsx)(w.a,{children:Object(b.jsx)(U,{})})}),Object(b.jsx)(g.a,{path:"/",children:Object(b.jsxs)(w.a,{children:[Object(b.jsx)(d.a,{style:{marginBottom:"36px"},className:"header",variant:"h4",children:"VR-Together"}),Object(b.jsx)("iframe",{src:"https://discord.com/widget?id=827686879188877334&theme=dark",width:"350",height:"500",allowtransparency:"true",frameborder:"0",sandbox:"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"})]})})]})]})})},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,185)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(V,{})}),document.getElementById("root")),q()}},[[130,1,2]]]);
//# sourceMappingURL=main.52e81e7c.chunk.js.map