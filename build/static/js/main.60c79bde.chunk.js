(this["webpackJsonppavlov-web-scoreboard"]=this["webpackJsonppavlov-web-scoreboard"]||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(14),s=a.n(c),i=(a(79),a(23)),d=(a(80),a(52)),j=a(64),l=a.n(j),o=a(34),b=(a(92),a(4));var h=function(e){var t=Object(r.useState)(void 0),a=Object(i.a)(t,2),c=a[0],s=a[1],j=Object(r.useState)(),h=Object(i.a)(j,2),u=h[0],O=h[1],x=Object(r.useState)(o.c.DESC),f=Object(i.a)(x,2),p=f[0],v=f[1];Object(r.useEffect)((function(){e.defaultOrder&&v(e.defaultOrder),e.defaultOrderBy&&O(e.defaultOrderBy)}),[e.defaultOrderBy,e.defaultOrder]),Object(r.useEffect)((function(){s(l.a.orderBy(e.data,[u],p.toLocaleLowerCase()))}),[e.data,u,p]);var m=function(e){e.defaultSortDirection,e.event;var t=e.sortBy,a=(e.sortDirection,u===t&&p===o.c.ASC?o.c.DESC:o.c.ASC);v(a),O(t)};return Object(b.jsxs)(n.a.Fragment,{children:[e.header&&Object(b.jsx)(d.a,{variant:"h4",className:"header",gutterBottom:!0,children:e.header}),Object(b.jsx)("div",{children:c&&c.length>0&&Object(b.jsx)(o.a,{children:function(t){var a=t.width;return Object(b.jsx)(o.d,{height:600,width:a,rowHeight:40,headerHeight:40,sortBy:u,sort:m,rowCount:c.length,rowGetter:function(e){var t=e.index;return c[t]},children:e.columns.map((function(e){var t=e.dataKey,a=e.label,r=e.width;return Object(b.jsx)(o.b,{width:r||200,dataKey:t,label:a},t)}))})}})})]})},u=a(131);var O=function(){var e=Object(r.useState)(void 0),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),d=Object(i.a)(s,2),j=d[0],l=d[1];Object(r.useEffect)((function(){a||(l(!0),fetch("/api/leaderboard/get").then((function(e){return e.json()})).then((function(e){c(e)})).finally((function(){l(!1)})))}),[a]);var o=window.matchMedia("(min-width: 1281px)").matches,O=[{dataKey:"name",label:"Player",width:o?400:200},{dataKey:"kills",label:"Kills",width:o?300:100},{dataKey:"deaths",label:"Deaths",width:o?300:100},{dataKey:"points",label:"Points",width:o?300:100}];return Object(b.jsxs)(n.a.Fragment,{children:[j&&Object(b.jsx)("div",{style:{marginTop:"24px"},children:Object(b.jsx)(u.a,{})}),!j&&Object(b.jsx)(h,{data:a,columns:O,header:"Preseason Leaderboard",defaultOrderBy:"kills"})]})};var x=function(){var e=Object(r.useState)(void 0),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(void 0),j=Object(i.a)(s,2),l=j[0],o=j[1],O=Object(r.useState)(!1),x=Object(i.a)(O,2),f=x[0],p=x[1];Object(r.useEffect)((function(){a||(p(!0),fetch("/api/server").then((function(e){return e.json()})).then((function(e){c(e.ServerInfo),e.Scores&&o(e.Scores.map((function(e){var t=e.PlayerInfo,a=t.KDA.split("/");return{kills:a[0],deaths:a[1],points:t.Score,steamId:t.UniqueId,name:t.PlayerName,team:t.TeamId}})))})).finally((function(){p(!1)})))}),[a]);var v=window.matchMedia("(min-width: 1281px)").matches,m=[{dataKey:"name",label:"Player",width:v?400:200},{dataKey:"kills",label:"Kills",width:v?300:100},{dataKey:"deaths",label:"Deaths",width:v?300:100},{dataKey:"points",label:"Points",width:v?300:100}];return Object(b.jsxs)(n.a.Fragment,{children:[a&&Object(b.jsxs)("div",{className:"header",children:[Object(b.jsx)(d.a,{variant:"h5",gutterBottom:!0,children:a.ServerName}),Object(b.jsxs)("p",{children:["Map: ",a.MapLabel]}),Object(b.jsxs)("p",{children:["Mode: ",a.GameMode]}),Object(b.jsxs)("p",{children:["Players: ",a.PlayerCount]})]}),!l&&!f&&Object(b.jsx)(d.a,{variant:"h5",children:"No current players"}),f&&Object(b.jsx)("div",{style:{marginTop:"24px"},children:Object(b.jsx)(u.a,{})}),!f&&Object(b.jsx)(h,{data:l,columns:m,defaultOrderBy:"kills"})]})},f=a(133),p=a(134),v=a(135),m=a(139),y=a(132),w=a(16);var g=Object(w.f)((function(e){var t=function(t){e.toggleDrawer(),e.history.push(t)};return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsxs)(m.a,{className:"drawer mobile",variant:"temporary",anchor:"left",open:e.open,classes:{paper:"drawer"},children:[Object(b.jsx)(y.a,{}),Object(b.jsxs)(f.a,{children:[Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/")},children:Object(b.jsx)(v.a,{primary:"Home"})}),Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/server")},children:Object(b.jsx)(v.a,{primary:"Server Status"})}),Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/leaderboard")},children:Object(b.jsx)(v.a,{primary:"Leaderboard"})})]})]}),Object(b.jsxs)(m.a,{className:"drawer desktop",variant:"persistent",anchor:"left",open:!0,classes:{paper:"drawer"},children:[Object(b.jsx)(y.a,{}),Object(b.jsxs)(f.a,{children:[Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/")},children:Object(b.jsx)(v.a,{primary:"Home"})}),Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/server")},children:Object(b.jsx)(v.a,{primary:"Server Status"})}),Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/leaderboard")},children:Object(b.jsx)(v.a,{primary:"Leaderboard"})})]})]})]})})),S=a(136),C=a(138),k=a(137),B=a(67),K=a.n(B),P=a(5),N=a(56);var D=function(e){var t=n.a.useState(!1),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(b.jsx)(N.a,{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(S.a,{position:"fixed",className:Object(P.a)("appBar",r&&"appBarshift"),children:Object(b.jsxs)(y.a,{children:[Object(b.jsx)(k.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return c(!r)},edge:"start",className:Object(P.a)("menuButton mobile"),children:Object(b.jsx)(K.a,{})}),Object(b.jsx)(d.a,{variant:"h6",noWrap:!0,children:"VR Together"})]})}),Object(b.jsx)(g,{toggleDrawer:function(){return c(!r)},open:r}),Object(b.jsx)(y.a,{}),Object(b.jsxs)(w.c,{children:[Object(b.jsx)(w.a,{path:"/leaderboard",children:Object(b.jsx)(C.a,{children:Object(b.jsx)(O,{})})}),Object(b.jsx)(w.a,{path:"/server",children:Object(b.jsx)(C.a,{children:Object(b.jsx)(x,{})})}),Object(b.jsx)(w.a,{path:"/",children:Object(b.jsx)(C.a,{children:Object(b.jsx)(d.a,{className:"header",variant:"h4",children:"VR-Together Pavlov"})})})]})]})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,141)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};s.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root")),F()},79:function(e,t,a){},80:function(e,t,a){}},[[103,1,2]]]);
//# sourceMappingURL=main.60c79bde.chunk.js.map