(this["webpackJsonppavlov-web-scoreboard"]=this["webpackJsonppavlov-web-scoreboard"]||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),c=n.n(i),o=(n(83),n(29)),l=(n(84),n(137)),s=n(52),d=n(45),b=n.n(d),h=n(4);var u=function(){var e=Object(a.useState)(void 0),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),c=Object(o.a)(i,2),d=c[0],u=c[1];Object(a.useEffect)((function(){n||(u(!0),fetch("/api/leaderboard/get").then((function(e){return e.json()})).then((function(e){r(e)})).finally((function(){u(!1)})))}),[n]);var j=window.matchMedia("(min-width: 1281px)").matches,x=[{dataKey:"name",label:"Player",width:j?400:300},{dataKey:"kills",label:j?"Kills":"K",width:j?300:75},{dataKey:"deaths",label:j?"Deaths":"D",width:j?300:75},{dataKey:"points",label:j?"Points":"P",width:j?300:75}];return Object(h.jsxs)("div",{style:{height:"600px"},children:[Object(h.jsx)(s.a,{variant:"h4",className:"header",gutterBottom:!0,children:"Preseason Leaderboard"}),d&&Object(h.jsx)(l.a,{color:"secondary"}),!d&&Object(h.jsx)("div",{style:{minHeight:"40vh",height:"60vh"},children:Object(h.jsx)(b.a,{data:n,columns:x,defaultOrder:"desc",defaultOrderBy:"kills",ignoreSearchColumns:["steamId"],inputClassName:"search-input",onRowClick:function(e){var t=e.rowData;return console.log(t.name)}})})]})};var j=function(){var e=Object(a.useState)(void 0),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(void 0),c=Object(o.a)(i,2),d=c[0],u=c[1],j=Object(a.useState)(!1),x=Object(o.a)(j,2),f=x[0],p=x[1];Object(a.useEffect)((function(){n||(p(!0),fetch("/api/server").then((function(e){return e.json()})).then((function(e){r(e.ServerInfo),e.Scores&&u(e.Scores.map((function(e){var t=e.PlayerInfo,n=t.KDA.split("/");return{kills:n[0],deaths:n[1],points:t.Score,steamId:t.UniqueId,name:t.PlayerName,team:t.TeamId}})))})).finally((function(){p(!1)})))}),[n]);var m=window.matchMedia("(min-width: 1281px)").matches,O=[{dataKey:"name",label:"Player",width:m?400:200},{dataKey:"kills",label:m?"Kills":"K",width:m?300:100},{dataKey:"deaths",label:"Deaths",width:m?300:100},{dataKey:"points",label:"Points",width:m?300:100}];return Object(h.jsxs)("div",{children:[n&&Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)(s.a,{variant:"h6",gutterBottom:!0,children:n.ServerName}),Object(h.jsxs)("p",{children:["Map: ",n.MapLabel]}),Object(h.jsxs)("p",{children:["Mode: ",n.GameMode]}),Object(h.jsxs)("p",{children:["Players: ",n.PlayerCount]})]}),f&&Object(h.jsx)(l.a,{color:"secondary"}),!f&&d&&d.length>0&&Object(h.jsx)("div",{style:{height:(40+40*d.length).toString()+"px",maxHeight:"520px"},children:Object(h.jsx)(b.a,{showSearch:!1,data:d,columns:O,defaultOrderBy:"kills"})})]})},x=n(139),f=n(140),p=n(141),m=n(145),O=n(138),v=n(16);var w=Object(v.f)((function(e){var t=function(t){e.toggleDrawer(),e.history.push(t)};return Object(h.jsxs)(r.a.Fragment,{children:[Object(h.jsxs)(m.a,{className:"drawer mobile",variant:"temporary",anchor:"left",open:e.open,classes:{paper:"drawer"},children:[Object(h.jsx)(O.a,{}),Object(h.jsxs)(x.a,{children:[Object(h.jsx)(f.a,{button:!0,onClick:function(){return t("/")},children:Object(h.jsx)(p.a,{primary:"Home"})}),Object(h.jsx)(f.a,{button:!0,onClick:function(){return t("/server")},children:Object(h.jsx)(p.a,{primary:"Server Status"})}),Object(h.jsx)(f.a,{button:!0,onClick:function(){return t("/leaderboard")},children:Object(h.jsx)(p.a,{primary:"Leaderboard"})})]})]}),Object(h.jsxs)(m.a,{className:"drawer desktop",variant:"persistent",anchor:"left",open:!0,classes:{paper:"drawer"},children:[Object(h.jsx)(O.a,{}),Object(h.jsxs)(x.a,{children:[Object(h.jsx)(f.a,{button:!0,onClick:function(){return t("/")},children:Object(h.jsx)(p.a,{primary:"Home"})}),Object(h.jsx)(f.a,{button:!0,onClick:function(){return t("/server")},children:Object(h.jsx)(p.a,{primary:"Server Status"})}),Object(h.jsx)(f.a,{button:!0,onClick:function(){return t("/leaderboard")},children:Object(h.jsx)(p.a,{primary:"Leaderboard"})})]})]})]})})),y=n(142),g=n(144),_=n(143),C=n(70),k=n.n(C),S=n(5),T=n(54);var R=function(e){var t=r.a.useState(!1),n=Object(o.a)(t,2),a=n[0],i=n[1];return Object(h.jsx)(T.a,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(y.a,{position:"fixed",className:Object(S.a)("appBar",a&&"appBarshift"),children:Object(h.jsxs)(O.a,{children:[Object(h.jsx)(_.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return i(!a)},edge:"start",className:Object(S.a)("menuButton mobile"),children:Object(h.jsx)(k.a,{})}),Object(h.jsx)(s.a,{variant:"h6",noWrap:!0,children:"VR Together"})]})}),Object(h.jsx)(w,{toggleDrawer:function(){return i(!a)},open:a}),Object(h.jsx)(O.a,{}),Object(h.jsxs)(v.c,{children:[Object(h.jsx)(v.a,{path:"/leaderboard",children:Object(h.jsx)(g.a,{children:Object(h.jsx)(u,{})})}),Object(h.jsx)(v.a,{path:"/server",children:Object(h.jsx)(g.a,{children:Object(h.jsx)(j,{})})}),Object(h.jsx)(v.a,{path:"/",children:Object(h.jsx)(g.a,{children:Object(h.jsx)(s.a,{className:"header",variant:"h4",children:"VR-Together Pavlov"})})})]})]})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,147)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(R,{})}),document.getElementById("root")),K()},45:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(85),i=n(106);!function(e){if(e&&"undefined"!==typeof window){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t)}}("/* Collection default theme */\n/* Grid default theme */\n/* Table default theme */\n.ReactVirtualized__Table__headerRow {\n  font-weight: 700;\n  text-transform: uppercase;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  flex-direction: row;\n  -webkit-box-align: center;\n  align-items: center;\n}\n\n.ReactVirtualized__Table__row {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  flex-direction: row;\n  -webkit-box-align: center;\n  align-items: center;\n}\n\n.ReactVirtualized__Table__headerTruncatedText {\n  display: inline-block;\n  max-width: 100%;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.ReactVirtualized__Table__headerColumn,\n.ReactVirtualized__Table__rowColumn {\n  margin-right: 10px;\n  min-width: 0px;\n}\n\n.ReactVirtualized__Table__rowColumn {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.ReactVirtualized__Table__headerColumn:first-of-type,\n.ReactVirtualized__Table__rowColumn:first-of-type {\n  margin-left: 10px;\n}\n\n.ReactVirtualized__Table__sortableHeaderColumn {\n  cursor: pointer;\n}\n\n.ReactVirtualized__Table__sortableHeaderIconContainer {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n}\n\n.ReactVirtualized__Table__sortableHeaderIcon {\n  -webkit-box-flex: 0;\n  flex: 0 0 24px;\n  height: 1em;\n  width: 1em;\n  fill: currentColor;\n}\n\n/* List default theme */");var c=a.useState,o=a.useEffect;t.default=function(e){var t=e.data,n=e.columns,l=e.showSearch,s=void 0===l||l,d=e.ignoreSearchColumns,b=void 0===d?void 0:d,h=e.defaultOrder,u=void 0===h?"asc":h,j=e.defaultOrderBy,x=void 0===j?"":j,f=e.inputClassName,p=void 0===f?"":f,m=e.onRowClick,O=void 0===m?void 0:m,v=c([]),w=v[0],y=v[1],g=c(""),_=g[0],C=g[1],k=c([]),S=k[0],T=k[1],R=c(x),K=R[0],z=R[1],B=c(u),P=B[0],N=B[1];o((function(){var e=t;s&&(e=r.filter(t,(function(e){for(var t=!1,n=Object.keys(e),a=0;a<n.length&&!t;a++)b&&b.indexOf(n[a])>-1||e[n[a]]&&e[n[a]].toString().toLowerCase().indexOf(_.toLowerCase())>-1&&(t=!0);return t}))),y(e)}),[_,t,b,s]),o((function(){T(r.orderBy(w,[K],P))}),[w,K,P]);var V=function(e){var t=e.sortBy;N(K===t&&"asc"===P?"desc":"asc"),z(t)};return a.createElement("div",{style:{height:"100%"}},s&&a.createElement("input",{placeholder:"Search",value:_,onChange:function(e){return C(e.target.value)},type:"text",className:p,style:{marginBottom:"8px"}}),w.length>0&&a.createElement(i.AutoSizer,null,(function(e){var t=e.width,r=e.height;return a.createElement(i.Table,{height:r,width:t,rowHeight:40,headerHeight:40,sortBy:K,sort:V,rowCount:S.length,rowGetter:function(e){var t=e.index;return S[t]},onRowClick:O},n.map((function(e){var t=e.dataKey,n=e.label,r=e.width;return a.createElement(i.Column,{width:r||200,key:t,dataKey:t,label:n})})))})))}},83:function(e,t,n){},84:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.dac3098c.chunk.js.map