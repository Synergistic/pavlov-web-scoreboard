(this["webpackJsonppavlov-web-scoreboard"]=this["webpackJsonppavlov-web-scoreboard"]||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(14),s=a.n(c),i=(a(82),a(29)),l=(a(83),a(136)),o=a(52),d=a(45),j=a.n(d),b=a(4);var h=function(){var e=Object(r.useState)(void 0),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(i.a)(c,2),d=s[0],h=s[1];Object(r.useEffect)((function(){a||(h(!0),fetch("/api/leaderboard/get").then((function(e){return e.json()})).then((function(e){n(e)})).finally((function(){h(!1)})))}),[a]);var u=window.matchMedia("(min-width: 1281px)").matches,O=[{dataKey:"name",label:"Player",width:u?400:300},{dataKey:"kills",label:u?"Kills":"K",width:u?300:75},{dataKey:"deaths",label:u?"Deaths":"D",width:u?300:75},{dataKey:"points",label:u?"Points":"P",width:u?300:75}];return Object(b.jsxs)("div",{style:{height:"600px"},children:[Object(b.jsx)(o.a,{variant:"h4",className:"header",gutterBottom:!0,children:"Preseason Leaderboard"}),d&&Object(b.jsx)(l.a,{color:"secondary"}),!d&&Object(b.jsx)("div",{style:{minHeight:"40vh",height:"60vh"},children:Object(b.jsx)(j.a,{data:a,columns:O,defaultOrder:"desc",defaultOrderBy:"kills",ignoreSearchColumns:["steamId"],inputClassName:"search-input"})})]})};var u=function(){var e=Object(r.useState)(void 0),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(void 0),s=Object(i.a)(c,2),d=s[0],h=s[1],u=Object(r.useState)(!1),O=Object(i.a)(u,2),p=O[0],x=O[1];Object(r.useEffect)((function(){a||(x(!0),fetch("/api/server").then((function(e){return e.json()})).then((function(e){n(e),e.Scores&&h(e.Scores.map((function(e){var t=e.PlayerInfo,a=t.KDA.split("/");return{kills:a[0],deaths:a[1],points:t.Score,steamId:t.UniqueId,name:t.PlayerName,team:t.TeamId}})))})).finally((function(){x(!1)})))}),[a]);var m=window.matchMedia("(min-width: 1281px)").matches,f=[{dataKey:"name",label:"Player",width:m?400:200},{dataKey:"kills",label:m?"Kills":"K",width:m?300:100},{dataKey:"deaths",label:"Deaths",width:m?300:100},{dataKey:"points",label:"Points",width:m?300:100}];return Object(b.jsxs)("div",{children:[a&&Object(b.jsxs)("div",{className:"header",children:[Object(b.jsx)(o.a,{variant:"h6",gutterBottom:!0,children:a.ServerName}),Object(b.jsxs)("p",{children:["Map: ",a.MapLabel]}),Object(b.jsxs)("p",{children:["Mode: ",a.GameMode]}),Object(b.jsxs)("p",{children:["Players: ",a.PlayerCount]})]}),p&&Object(b.jsx)(l.a,{color:"secondary"}),!p&&d&&d.length>0&&Object(b.jsx)("div",{style:{height:(40+40*d.length).toString()+"px",maxHeight:"520px"},children:Object(b.jsx)(j.a,{showSearch:!1,data:d,columns:f,defaultOrderBy:"kills"})})]})},O=a(138),p=a(139),x=a(140),m=a(144),f=a(137),v=a(16);var y=Object(v.f)((function(e){var t=function(t){e.toggleDrawer(),e.history.push(t)};return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsxs)(m.a,{className:"drawer mobile",variant:"temporary",anchor:"left",open:e.open,classes:{paper:"drawer"},children:[Object(b.jsx)(f.a,{}),Object(b.jsxs)(O.a,{children:[Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/")},children:Object(b.jsx)(x.a,{primary:"Home"})}),Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/server")},children:Object(b.jsx)(x.a,{primary:"Server Status"})}),Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/leaderboard")},children:Object(b.jsx)(x.a,{primary:"Leaderboard"})})]})]}),Object(b.jsxs)(m.a,{className:"drawer desktop",variant:"persistent",anchor:"left",open:!0,classes:{paper:"drawer"},children:[Object(b.jsx)(f.a,{}),Object(b.jsxs)(O.a,{children:[Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/")},children:Object(b.jsx)(x.a,{primary:"Home"})}),Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/server")},children:Object(b.jsx)(x.a,{primary:"Server Status"})}),Object(b.jsx)(p.a,{button:!0,onClick:function(){return t("/leaderboard")},children:Object(b.jsx)(x.a,{primary:"Leaderboard"})})]})]})]})})),w=a(141),g=a(143),S=a(142),k=a(70),C=a.n(k),K=a(5),P=a(55);var N=function(e){var t=n.a.useState(!1),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(b.jsx)(P.a,{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(w.a,{position:"fixed",className:Object(K.a)("appBar",r&&"appBarshift"),children:Object(b.jsxs)(f.a,{children:[Object(b.jsx)(S.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return c(!r)},edge:"start",className:Object(K.a)("menuButton mobile"),children:Object(b.jsx)(C.a,{})}),Object(b.jsx)(o.a,{variant:"h6",noWrap:!0,children:"VR Together"})]})}),Object(b.jsx)(y,{toggleDrawer:function(){return c(!r)},open:r}),Object(b.jsx)(f.a,{}),Object(b.jsxs)(v.c,{children:[Object(b.jsx)(v.a,{path:"/leaderboard",children:Object(b.jsx)(g.a,{children:Object(b.jsx)(h,{})})}),Object(b.jsx)(v.a,{path:"/server",children:Object(b.jsx)(g.a,{children:Object(b.jsx)(u,{})})}),Object(b.jsx)(v.a,{path:"/",children:Object(b.jsxs)(g.a,{children:[Object(b.jsx)(o.a,{style:{marginBottom:"36px"},className:"header",variant:"h4",children:"VR-Together"}),Object(b.jsx)("iframe",{src:"https://discord.com/widget?id=827686879188877334&theme=dark",width:"350",height:"500",allowtransparency:"true",frameborder:"0",sandbox:"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"})]})})]})]})})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,146)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};s.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root")),B()},82:function(e,t,a){},83:function(e,t,a){}},[[107,1,2]]]);
//# sourceMappingURL=main.7b23354e.chunk.js.map