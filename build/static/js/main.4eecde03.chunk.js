(this["webpackJsonppavlov-web-scoreboard"]=this["webpackJsonppavlov-web-scoreboard"]||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),c=a.n(i),o=(a(83),a(29)),l=(a(84),a(137)),s=a(52),d=a(45),b=a.n(d),h=a(4);var u=function(){var e=Object(n.useState)(void 0),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(o.a)(i,2),d=c[0],u=c[1];Object(n.useEffect)((function(){a||(u(!0),fetch("/api/leaderboard/get").then((function(e){return e.json()})).then((function(e){r(e)})).finally((function(){u(!1)})))}),[a]);var j=window.matchMedia("(min-width: 1281px)").matches,p=[{dataKey:"name",label:"Player",width:j?400:300},{dataKey:"kills",label:j?"Kills":"K",width:j?300:75},{dataKey:"deaths",label:j?"Deaths":"D",width:j?300:75},{dataKey:"points",label:j?"Points":"P",width:j?300:75}];return Object(h.jsxs)("div",{style:{height:"600px"},children:[Object(h.jsx)(s.a,{variant:"h4",className:"header",gutterBottom:!0,children:"Preseason Leaderboard"}),d&&Object(h.jsx)(l.a,{color:"secondary"}),!d&&Object(h.jsx)("div",{style:{minHeight:"40vh",height:"60vh"},children:Object(h.jsx)(b.a,{data:a,columns:p,defaultOrder:"desc",defaultOrderBy:"kills",ignoreSearchColumns:["steamId"],inputClassName:"search-input",onRowClick:function(e){var t=e.rowData;return console.log(t.name)}})})]})};var j=function(){var e=Object(n.useState)(void 0),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(void 0),c=Object(o.a)(i,2),d=c[0],u=c[1],j=Object(n.useState)(!1),p=Object(o.a)(j,2),x=p[0],f=p[1];Object(n.useEffect)((function(){a||(f(!0),fetch("/api/server").then((function(e){return e.json()})).then((function(e){r(e.ServerInfo),e.Scores&&u(e.Scores.map((function(e){var t=e.PlayerInfo,a=t.KDA.split("/");return{kills:a[0],deaths:a[1],points:t.Score,steamId:t.UniqueId,name:t.PlayerName,team:t.TeamId}})))})).finally((function(){f(!1)})))}),[a]);var m=window.matchMedia("(min-width: 1281px)").matches,O=[{dataKey:"name",label:"Player",width:m?400:200},{dataKey:"kills",label:m?"Kills":"K",width:m?300:100},{dataKey:"deaths",label:"Deaths",width:m?300:100},{dataKey:"points",label:"Points",width:m?300:100}];return Object(h.jsxs)("div",{children:[a&&Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)(s.a,{variant:"h6",gutterBottom:!0,children:a.ServerName}),Object(h.jsxs)("p",{children:["Map: ",a.MapLabel]}),Object(h.jsxs)("p",{children:["Mode: ",a.GameMode]}),Object(h.jsxs)("p",{children:["Players: ",a.PlayerCount]})]}),x&&Object(h.jsx)(l.a,{color:"secondary"}),!x&&d&&d.length>0&&Object(h.jsx)("div",{style:{height:(40+40*d.length).toString()+"px",maxHeight:"520px"},children:Object(h.jsx)(b.a,{showSearch:!1,data:d,columns:O,defaultOrderBy:"kills"})})]})},p=a(139),x=a(140),f=a(141),m=a(145),O=a(138),w=a(16);var v=Object(w.f)((function(e){var t=function(t){e.toggleDrawer(),e.history.push(t)};return Object(h.jsxs)(r.a.Fragment,{children:[Object(h.jsxs)(m.a,{className:"drawer mobile",variant:"temporary",anchor:"left",open:e.open,classes:{paper:"drawer"},children:[Object(h.jsx)(O.a,{}),Object(h.jsxs)(p.a,{children:[Object(h.jsx)(x.a,{button:!0,onClick:function(){return t("/")},children:Object(h.jsx)(f.a,{primary:"Home"})}),Object(h.jsx)(x.a,{button:!0,onClick:function(){return t("/server")},children:Object(h.jsx)(f.a,{primary:"Server Status"})}),Object(h.jsx)(x.a,{button:!0,onClick:function(){return t("/leaderboard")},children:Object(h.jsx)(f.a,{primary:"Leaderboard"})})]})]}),Object(h.jsxs)(m.a,{className:"drawer desktop",variant:"persistent",anchor:"left",open:!0,classes:{paper:"drawer"},children:[Object(h.jsx)(O.a,{}),Object(h.jsxs)(p.a,{children:[Object(h.jsx)(x.a,{button:!0,onClick:function(){return t("/")},children:Object(h.jsx)(f.a,{primary:"Home"})}),Object(h.jsx)(x.a,{button:!0,onClick:function(){return t("/server")},children:Object(h.jsx)(f.a,{primary:"Server Status"})}),Object(h.jsx)(x.a,{button:!0,onClick:function(){return t("/leaderboard")},children:Object(h.jsx)(f.a,{primary:"Leaderboard"})})]})]})]})})),y=a(142),g=a(144),_=a(143),k=a(70),C=a.n(k),S=a(5),T=a(54);var R=function(e){var t=r.a.useState(!1),a=Object(o.a)(t,2),n=a[0],i=a[1];return Object(h.jsx)(T.a,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(y.a,{position:"fixed",className:Object(S.a)("appBar",n&&"appBarshift"),children:Object(h.jsxs)(O.a,{children:[Object(h.jsx)(_.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return i(!n)},edge:"start",className:Object(S.a)("menuButton mobile"),children:Object(h.jsx)(C.a,{})}),Object(h.jsx)(s.a,{variant:"h6",noWrap:!0,children:"VR Together"})]})}),Object(h.jsx)(v,{toggleDrawer:function(){return i(!n)},open:n}),Object(h.jsx)(O.a,{}),Object(h.jsxs)(w.c,{children:[Object(h.jsx)(w.a,{path:"/leaderboard",children:Object(h.jsx)(g.a,{children:Object(h.jsx)(u,{})})}),Object(h.jsx)(w.a,{path:"/server",children:Object(h.jsx)(g.a,{children:Object(h.jsx)(j,{})})}),Object(h.jsx)(w.a,{path:"/",children:Object(h.jsxs)(g.a,{children:[Object(h.jsx)(s.a,{style:{marginBottom:"36px"},className:"header",variant:"h4",children:"VR-Together"}),Object(h.jsx)("iframe",{src:"https://discord.com/widget?id=827686879188877334&theme=dark",width:"350",height:"500",allowtransparency:"true",frameborder:"0",sandbox:"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"})]})})]})]})})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,147)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(R,{})}),document.getElementById("root")),B()},45:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=a(85),i=a(106);!function(e){if(e&&"undefined"!==typeof window){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t)}}("/* Collection default theme */\n/* Grid default theme */\n/* Table default theme */\n.ReactVirtualized__Table__headerRow {\n  font-weight: 700;\n  text-transform: uppercase;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  flex-direction: row;\n  -webkit-box-align: center;\n  align-items: center;\n}\n\n.ReactVirtualized__Table__row {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  flex-direction: row;\n  -webkit-box-align: center;\n  align-items: center;\n}\n\n.ReactVirtualized__Table__headerTruncatedText {\n  display: inline-block;\n  max-width: 100%;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.ReactVirtualized__Table__headerColumn,\n.ReactVirtualized__Table__rowColumn {\n  margin-right: 10px;\n  min-width: 0px;\n}\n\n.ReactVirtualized__Table__rowColumn {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.ReactVirtualized__Table__headerColumn:first-of-type,\n.ReactVirtualized__Table__rowColumn:first-of-type {\n  margin-left: 10px;\n}\n\n.ReactVirtualized__Table__sortableHeaderColumn {\n  cursor: pointer;\n}\n\n.ReactVirtualized__Table__sortableHeaderIconContainer {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n}\n\n.ReactVirtualized__Table__sortableHeaderIcon {\n  -webkit-box-flex: 0;\n  flex: 0 0 24px;\n  height: 1em;\n  width: 1em;\n  fill: currentColor;\n}\n\n/* List default theme */");var c=n.useState,o=n.useEffect;t.default=function(e){var t=e.data,a=e.columns,l=e.showSearch,s=void 0===l||l,d=e.ignoreSearchColumns,b=void 0===d?void 0:d,h=e.defaultOrder,u=void 0===h?"asc":h,j=e.defaultOrderBy,p=void 0===j?"":j,x=e.inputClassName,f=void 0===x?"":x,m=e.onRowClick,O=void 0===m?void 0:m,w=e.defaultSearchTerm,v=void 0===w?"":w,y=c([]),g=y[0],_=y[1],k=c(v),C=k[0],S=k[1],T=c([]),R=T[0],B=T[1],K=c(p),z=K[0],N=K[1],P=c(u),V=P[0],E=P[1];o((function(){var e=t;s&&(e=r.filter(t,(function(e){for(var t=!1,a=Object.keys(e),n=0;n<a.length&&!t;n++)b&&b.indexOf(a[n])>-1||e[a[n]]&&e[a[n]].toString().toLowerCase().indexOf(C.toLowerCase())>-1&&(t=!0);return t}))),_(e)}),[C,t,b,s]),o((function(){B(r.orderBy(g,[z],V))}),[g,z,V]);var H=function(e){var t=e.sortBy;E(z===t&&"asc"===V?"desc":"asc"),N(t)};return n.createElement("div",{style:{height:"100%"}},s&&n.createElement("input",{placeholder:"Search",value:C,onChange:function(e){return S(e.target.value)},type:"text",className:f,style:{marginBottom:"8px"}}),g.length>0&&n.createElement(i.AutoSizer,null,(function(e){var t=e.width,r=e.height;return n.createElement(i.Table,{height:r,width:t,rowHeight:40,headerHeight:40,sortBy:z,sort:H,rowCount:R.length,rowGetter:function(e){var t=e.index;return R[t]},onRowClick:O},a.map((function(e){var t=e.dataKey,a=e.label,r=e.width;return n.createElement(i.Column,{width:r||200,key:t,dataKey:t,label:a})})))})))}},83:function(e,t,a){},84:function(e,t,a){}},[[108,1,2]]]);
//# sourceMappingURL=main.4eecde03.chunk.js.map